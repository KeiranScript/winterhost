<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/styles.css">
    <title>User Gallery</title>
</head>
<body>
    <%- include('partials/navbar', { user: user, isAdmin: isAdmin }) %>
    <div class="container">
        <h1>User Gallery</h1>
        <div class="gallery">
            <% if (files.length > 0) { %>
                <% files.forEach(file => { %>
                    <div class="gallery-item">
                        <a href="/uploads/<%= user.id %>/<%= file %>" target="_blank">
                            <img src="/uploads/<%= user.id %>/<%= file %>" alt="<%= file %>">
                        </a>
                        <p><%= file %></p>
                        <div class="gallery-item-actions">
                            <button class="copy-url-btn" data-url="<%= 'http://localhost:3000/uploads/' + user.id + '/' + file %>">Copy URL</button>
                            <button class="delete-btn" data-url="/uploads/<%= user.id %>/<%= file %>">Delete</button>
                        </div>
                    </div>
                <% }); %>
            <% } else { %>
                <p>No files uploaded yet.</p>
            <% } %>
        </div>
    </div>
    <script src="/index.js"></script>
</body>
</html>

